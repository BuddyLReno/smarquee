/*!
 * 
 *   smarquee - A smart scrolling marquee for audio players and other scrolling text needs.
 *   Author: Buddy Reno <thebudman84+smarquee@gmail.com> (https://buddyreno.dev)
 *   Version: v0.1.0
 *   URL: https://github.com/BuddyLReno/smarquee#readme
 *   License: GPL-2.0
 * 
 */
(function(){var e={enumerable:!1,configurable:!0,writable:!1},t={enumerable:!0,configurable:!1},n=this.Object.defineProperty,i=function(e,t,n,i,r,a,s){try{var o=e[a](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(i,r)},r=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var s=e.apply(t,n);function o(e){i(s,r,a,o,l,"next",e)}function l(e){i(s,r,a,o,l,"throw",e)}o(void 0)})}},a=function(){return r},s={selector:"#smarquee",element:null,velocity:50,scrollingTitleMargin:24},o=class{constructor(e={}){this.settings=Object.assign({},s,e),this.animationCalulations={distance:0,animatedDistance:0,time:0},this.settings.element?this.marqueeContainer=this.settings.element:this.marqueeContainer=document.querySelector(this.settings.selector),this.originalMarqueeContent=this.marqueeContainer.innerHTML}get needsMarquee(){return this.marqueeContainer.scrollWidth>this.marqueeContainer.clientWidth}init(){var e=this;return a()(function*(){e.needsMarquee&&(yield e.createScrollTitle(),yield e.calculateAnimationProperties(),yield e.setAnimationProperties(),e.activate())})()}createScrollTitle(){var e=this;return a()(function*(){e.scrollWrapper=function(e,t){const n=`<span data-smarquee-scroll-wrapper>${e}<span data-smarquee-scroll-title>${e}</span></span>`;return t.innerHTML=n,t.querySelector("[data-smarquee-scroll-wrapper]")}(e.originalMarqueeContent,e.marqueeContainer)})()}calculateAnimationProperties(){var e=this;return a()(function*(){e.animationCalulations=function(e,t,n=0){return{distance:e,animatedDistance:e/2+n,time:e/t}}(e.marqueeContainer.scrollWidth,e.settings.velocity,e.settings.scrollingTitleMargin)})()}setAnimationProperties(){var e=this;return a()(function*(){e.marqueeContainer.style.setProperty("--time",`${e.animationCalulations.time}s`),e.marqueeContainer.style.setProperty("--distance",`-${e.animationCalulations.animatedDistance}px`)})()}activate(){this.scrollWrapper.classList.add("animate")}deactivate(){this.scrollWrapper.classList.remove("animate")}};o.prototype.needsMarquee=void 0,e.value="_asyncToGenerator",n(r,"name",e),e.value="getModuleExports",n(a,"name",e),t.get=a,n(a,"a",t),this.Smarquee=o}).call(this);